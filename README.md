# AirBnB MongoDB Analysis
## Data
### The origin of data set
The data set is about the information of AirBnB in Hong Kong and it comes from [Inside Airbnb website](https://insideairbnb.com/). The original data format is: [listings.csv.gz](https://data.insideairbnb.com/china/hk/hong-kong/2023-12-20/data/listings.csv.gz)
### Display raw data
Here is the first 5 rows of the row data. (I clip some text.)
| id     | listing_url                            | scrape_id    | last_scraped | source       | name                                                          | description                                                                                                                                                           | neighborhood_overview                                              | picture_url                                                             | host_id | host_url                            | host_name | host_since | host_location     | host_about                                                                                                                                                                                                                                        | host_response_time | host_response_rate | host_acceptance_rate | host_is_superhost | host_thumbnail_url                                                    | host_picture_url                                                       | host_neighbourhood | host_listings_count | host_total_listings_count | host_verifications        | host_has_profile_pic | host_identity_verified | neighbourhood | neighbourhood_cleansed | neighbourhood_group_cleansed | latitude | longitude | property_type       | room_type     | accommodates | bathrooms | bathrooms_text | bedrooms | beds | amenities                                                       | price     | minimum_nights | maximum_nights | minimum_minimum_nights | maximum_minimum_nights | minimum_maximum_nights | maximum_maximum_nights | minimum_nights_avg_ntm | maximum_nights_avg_ntm | calendar_updated | has_availability | availability_30 | availability_60 | availability_90 | availability_365 | calendar_last_scraped | number_of_reviews | number_of_reviews_ltm | number_of_reviews_l30d | first_review | last_review | review_scores_rating | review_scores_accuracy | review_scores_cleanliness | review_scores_checkin | review_scores_communication | review_scores_location | review_scores_value | license | instant_bookable | calculated_host_listings_count | calculated_host_listings_count_entire_homes | calculated_host_listings_count_private_rooms | calculated_host_listings_count_shared_rooms | reviews_per_month |
|--------|----------------------------------------|--------------|--------------|--------------|---------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|------------------------------------------------------------------------|---------|-------------------------------------|-----------|------------|-------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------|--------------------|----------------------|--------------------|----------------------------------------------------------------------|------------------------------------------------------------------------|--------------------|----------------------|--------------------------|---------------------------|---------------------|------------------------|---------------|-----------------------|-----------------------------|----------|-----------|--------------------|---------------|--------------|-----------|----------------|----------|------|-----------------------------------------------------------------|-----------|----------------|----------------|------------------------|------------------------|------------------------|------------------------|------------------------|---------------------|------------------|-----------------|-----------------|-----------------|-----------------|------------------------|--------------------|------------------------|------------------------|--------------|-------------|-----------------|-----------------|-----------------|-----------------|------------------------|-------------------|------------------------|------------------------|--------------|-------------|----------------------|------------------------------------------|------------------------------------------|------------------------------------------|--------------------|
| 17891  | https://www.airbnb.com/rooms/17891     | 2.02312E+13  | 12/21/2023   | previous scrape | Rental unit in Hong Kong Island · ★4.76 · Studio · 1 bed · 1 bath | Best neighborhood in Hong Kong! A mix of old and new.                                                                                                                  | https://a0.muscache.com/pictures/119686/6ced58c4_original.jpg  | 69063  | https://www.airbnb.com/users/show/69063 | Candace   | 1/9/2010   | Los Angeles, CA   | Hi, my name is Candace Campos...  | N/A                | N/A                | N/A                  | f                  | https://a0.muscache.com/im/pictures/user/b439cf98-b81c-4555-bb1c-384cf45fe320.jpg?aki_policy=profile_small  | https://a0.muscache.com/im/pictures/user/b439cf98-b81c-4555-bb1c-384cf45fe320.jpg?aki_policy=profile_x_medium  | Sheung Wan         | 1                    | 2                        | ['phone', 'work_email'] | t                   | t                      | Hong Kong Island | Central & Western     |                           | 22.28327 | 114.14988 | Entire rental unit | Entire home/apt | 3            |           | 1 bath         | 1        |      | []                                                              | 60        |                |                | 0                      | 0                      | 0                      | 0                      | 0                      | 0                   | 0                | 0               | 0               | 0               | 0               | 12/21/2023             | 73                 | 0                      | 0                      | 4/23/2010    | 11/29/2017  | 4.76                 | 4.73                   | 4.51                      | 4.92                   | 4.93                          | 4.9                    | 4.66               |          | f               | 1                              | 1                                        | 1                                        | 0                                        | 0.44               |
| 72571  | https://www.airbnb.com/rooms/72571     | 2.02312E+13  | 12/20/2023   | city scrape   | Rental unit in Sheung Wan · ★4.22 · Studio · 1 bed · 1 bath     |                                                                                                                                                                       | https://a0.muscache.com/pictures/2849554/d226294d_original.jpg  | 304876 | https://www.airbnb.com/users/show/304876 | Brendan   | 11/30/2010 | Hong Kong         | I was born in California and raised in Hong Kong... | within an hour      | 100%               | 99%                  | f                  | https://a0.muscache.com/im/users/304876/profile_pic/1359947330/original.jpg?aki_policy=profile_small  | https://a0.muscache.com/im/users/304876/profile_pic/1359947330/original.jpg?aki_policy=profile_x_medium  | Sheung Wan         | 10                   | 58                       | ['email', 'phone']        | t                   | t                      |               | Central & Western     |                           | 22.28463 | 114.15054 | Entire rental unit | Entire home/apt | 2            |           | 1 bath         |          |      | []                                                              | $482.00   | 28             | 1125           | 28                     | 28                     | 28                     | 28                     | 28                     | 28                  | 28               | 28              | 28              | 28              | 28              | 12/20/2023             | 151                | 0                      | 0                      | 2/26/2011    | 3/11/2022   | 4.22                 | 4.04                   | 4.55                      | 4.43                   | 4.51                          | 4.73                   | 4.13               |          | f               | 9                              | 5                                        | 4                                        | 0                                        | 0.97               |
| 132773 | https://www.airbnb.com/rooms/132773    | 2.02312E+13  | 12/21/2023   | city scrape   | Rental unit in Hong Kong Island · ★4.52 · 2 bedrooms · 3 beds · 1 bath | The Sheung Wan neighbourhood is ever changing and a fantastic mix of "old' and "new" Hong Kong... | https://a0.muscache.com/pictures/36936441/e4c1f31d_original.jpg | 304876 | https://www.airbnb.com/users/show/304876 | Brendan   | 11/30/2010 | Hong Kong         | I was born in California and raised in Hong Kong... | within an hour      | 100%               | 99%                  | f                  | https://a0.muscache.com/im/users/304876/profile_pic/1359947330/original.jpg?aki_policy=profile_small  | https://a0.muscache.com/im/users/304876/profile_pic/1359947330/original.jpg?aki_policy=profile_x_medium  | Sheung Wan         | 10                   | 58                       | ['email', 'phone']        | t                   | t                      | Hong Kong Island | Central & Western     |                           | 22.28921 | 114.14325 | Entire rental unit | Entire home/apt | 6            |           | 1 bath         | 2        |      | []                                                              | $1,475.00 | 5              | 365            | 5                      | 5                      | 5                      | 5                      | 5                      | 5                   | 5                | 5               | 5               | 5               | 5               | 12/21/2023             | 247                | 24                     | 3                      | 7/19/2011    | 12/3/2023   | 4.52                 | 4.49                   | 4.7                       | 4.6                    | 4.67                          | 4.43                   | 4.41               |          | f               | 9                              | 5                                        | 4                                        | 0                                        | 1.63               |
| 163664 | https://www.airbnb.com/rooms/163664    | 2.02312E+13  | 12/20/2023   | city scrape   | Rental unit in Sheung Wan · ★4.28 · 2 bedrooms · 3 beds · 1 bath | Fantastic traditional Hong Kong neighborhood with lots of history at every street alley and corner. Local restaurants are a treat to experience and public transport is all around to get you to all places of the city.                                                                                  | https://a0.muscache.com/pictures/15184030/8d06b40b_original.jpg | 304876 | https://www.airbnb.com/users/show/304876 | Brendan   | 11/30/2010 | Hong Kong         | I was born in California and raised in Hong Kong...| within an hour      | 100%               | 99%                  | f                  | https://a0.muscache.com/im/users/304876/profile_pic/1359947330/original.jpg?aki_policy=profile_small  | https://a0.muscache.com/im/users/304876/profile_pic/1359947330/original.jpg?aki_policy=profile_x_medium  | Sheung Wan         | 10                   | 58                       | ['email', 'phone']        | t                   | t                      | Sheung Wan      | Central & Western     |                           | 22.28494 | 114.14901 | Entire rental unit | Entire home/apt | 6            |           | 1 bath         | 2        |      | []                                                              | $616.00   | 2              | 365            | 2                      | 2                      | 2                      | 2                      | 2                      | 2                   | 2                | 2               | 2               | 2               | 2               | 12/20/2023             | 225                | 0                      | 0                      | 8/25/2011    | 2/16/2021   | 4.28                 | 4.24                   | 4.41                      | 4.44                   | 4.58                          | 4.68                   | 4.31               |          | f               | 9                              | 5                                        | 4                                        | 0                                        | 1.5                |
| 163742 | https://www.airbnb.com/rooms/163742    | 2.02312E+13  | 12/21/2023   | city scrape   | Rental unit in Sheung Wan · ★4.35 · 2 bedrooms · 3 beds · 1 bath | Fantastic traditional Hong Kong neighborhood with lots of history at every street alley and corner...                                   | https://a0.muscache.com/pictures/15195137/ff7e10d7_original.jpg | 304876 | https://www.airbnb.com/users/show/304876 | Brendan   | 11/30/2010 | Hong Kong         | I was born in California and raised in Hong Kong...| within an hour      | 100%               | 99%                  | f                  | https://a0.muscache.com/im/users/304876/profile_pic/1359947330/original.jpg?aki_policy=profile_small  | https://a0.muscache.com/im/users/304876/profile_pic/1359947330/original.jpg?aki_policy=profile_x_medium  | Sheung Wan         | 10                   | 58                       | ['email', 'phone']        | t                   | t                      | Sheung Wan      | Central & Western     |                           | 22.28657 | 114.14889 | Entire rental unit | Entire home/apt | 6            |           | 1 bath         | 2        |      | []                                                              | $1,210.00 | 4              | 365            | 4                      | 4                      | 4                      | 4                      | 4                      | 4                   | 4                | 4               | 4               | 4               | 4               | 12/21/2023             | 244                | 10                     | 0                      | 8/11/2011    | 11/20/2023  | 4.35                 | 4.26                   | 4.51                      | 4.52                   | 4.59                          | 4.62                   | 4.31               |          | f               | 9                              | 5                                        | 4                                        | 0                                        | 1.62               |

### Data srubbing



`ssh rs8050@i6.cims.nyu.edu`

password: `#X:r7Jz+c[`

`module load mongodb-4.0`
`export LC_ALL=en_US.UTF-8`

后面不需要运行这个了`mongoimport --headerline --type=csv --db=rs8050 --collection=listings --host=class-mongodb.cims.nyu.edu --file=listings_clean.csv --username=rs8050 --password=XiVBZLDs`

`mongosh rs8050 --host class-mongodb.cims.nyu.edu -u rs8050 -p`
password: `XiVBZLDs`

